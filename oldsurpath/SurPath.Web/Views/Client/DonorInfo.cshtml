@model IEnumerable<SurPathWeb.Models.TestResultDataModel>
@using GridMvc.Html

@{
    ViewBag.Title = "DonorInfo";
    Layout = "~/Views/Shared/_ClientLayout.cshtml";
}

@section PageScript
{
    <script src='@Url.Content("~/Scripts/popup.js")'></script>
    <link href='@Url.Content("~/Content/Gridmvc.css")' rel="stylesheet" type="text/css" />

    <script type="text/javascript">
        $(function () {
            $("#liDashboard").addClass("active");
            $("#liDonorInfo").addClass("active");
            $("#liDonorSearch").removeClass("active");

            var element = document.getElementById('tab');

            if (element.offsetHeight > "880") {
                $("#tab").css({ "max-height": "850px", "overflow-y": "scroll" });
            }
            else {
                $("#tab").css({ "max-height": "850px", "overflow-y": "hidden" });
            }
        });0
    </script>
}

@{using (Html.BeginForm())
    {
        <div class="container">
            <div class="row top-buffer"></div>
            <div class="row top-buffer"></div>
            <div class="row">
                <div class="col-md-4">
                    <h3> Donor Info </h3>
                    Select
                </div>
            </div>
            <div class="table-responsive table-striped table-bordered table-hover fixed_headers" id="tab">
                @Html.Grid(Model).Columns(columns =>
       {

           columns.Add()
               .Encoded(false)
               .Sanitized(false)
               //.SetWidth(20)
               .RenderValueAs(m => m.DownloadLink)
               .Titled("Actions");

           columns.Add()
            .Encoded(false)
            .Sanitized(false)
            //.SetWidth(30)
            .RenderValueAs(m => m.MRODownloadLink)
           .Titled("Actions");

           columns.Add(m => m.FirstName).Sortable(true).Titled("First Name");
           columns.Add(m => m.LastName).Sortable(true).Titled("Last Name");
           columns.Add(m => m.TestStatus).Sortable(true).Titled("Status");
           columns.Add(m => m.TestOverallResult).Sortable(true).Titled("Final Result");
           columns.Add(m => m.TestDate).Sortable(true).Titled("Tested Date");
           columns.Add(m => m.SSN).Sortable(true).Titled("SSN");
           columns.Add(m => m.DepartmentName).Sortable(true).Titled("Department/Program");
           //   columns.Add()
           //.Encoded(false)
           //.Sanitized(false)
           //// .SetWidth(20)a
           ///*.RenderValueAs(m => m.MRODownloadLink)*/;
       }).WithPaging(100)

            </div>
            <!--- Table ends here -->
            <div class="row top-buffer"></div>
            <div class="row top-buffer"></div>
            <div class="row top-buffer"></div>
            <div class="row top-buffer"></div>
        </div>
    }
}
<style>
    .fixed_headers {
  
  table-layout: fixed;
  border-collapse: collapse;
}
.fixed_headers th {
  text-decoration: underline;
}
.fixed_headers th,
.fixed_headers td {
  padding: 5px;
  /*text-align: left;*/
}

.fixed_headers thead {
  background-color: darkgrey;
  color: #fdfdfd;
}
.fixed_headers thead tr {
  display: block;
  position: relative;
}
.fixed_headers tbody {
  display: block;
  overflow: auto;
  width:100%;
  height: 850px;
}

            .fixed_headers tbody tr:nth-child(even) {
                background-color: #dddddd;
            }

        .fixed_headers td:nth-child(1),
        .fixed_headers th:nth-child(1) {
            min-width: 100px;
        }

        .fixed_headers td:nth-child(2),
        .fixed_headers th:nth-child(2) {
             min-width: 100px;
        }

        .fixed_headers td:nth-child(3),
        .fixed_headers th:nth-child(3) {
             min-width:110px;
        }

        .fixed_headers td:nth-child(4),
        .fixed_headers th:nth-child(4) {
            min-width: 130px;
        }

        .fixed_headers td:nth-child(5),
        .fixed_headers th:nth-child(5) {
             min-width: 140px;
        }

        .fixed_headers td:nth-child(6),
        .fixed_headers th:nth-child(6) {
             min-width: 140px;
        }

        .fixed_headers td:nth-child(7),
        .fixed_headers th:nth-child(7) {
             min-width: 105px;
        }
        .fixed_headers td:nth-child(8),
        .fixed_headers th:nth-child(8) {
             min-width: 105px;
        }
           .fixed_headers td:nth-child(9),
        .fixed_headers th:nth-child(9) {
             min-width: 150px;
        }
</style>

